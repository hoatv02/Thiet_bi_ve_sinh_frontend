<section class="container-app my-6 md:my-10 space-y-4 md:space-y-8">

    <!-- ðŸ§­ Breadcrumb - Responsive -->
    <div class="text-xs sm:text-sm text-gray-500 px-2 sm:px-0">
        <a (click)="goHome()" class="hover:text-[#00456F]">Trang chá»§</a> /
        <span class="text-gray-700 font-medium">Sáº£n pháº©m Ä‘Ã£ xem</span>
    </div>
    <div
        class="grid grid-cols-2 xs:grid-cols-3 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4 md:gap-5 px-2 sm:px-0">
        @for (p of sortedProducts(); track p.id) {
        <div (click)="goToDetail(p)"
            class="relative bg-white rounded-lg sm:rounded-xl p-2 sm:p-3 md:p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer flex flex-col h-full">
            <!-- Badge -->
            <div *ngIf="p.isHot"
                class="absolute top-1 left-1 sm:top-2 sm:left-2 bg-[#3AA7E9] text-white text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5 sm:py-1 rounded">
                BÃ¡n cháº¡y
            </div>

            <!-- Image -->
            <img [src]="p.mainImageUrl" alt="{{ p.name }}"
                class="w-full h-28 sm:h-32 md:h-40 object-contain mb-2 sm:mb-3" />

            <!-- Content -->
            <div class="flex flex-col flex-1">
                <p class="text-xs sm:text-sm font-bold text-gray-800">{{ p.brand }}</p>

                <!-- TÃªn sáº£n pháº©m: clamp + tooltip -->
                <p class="text-[13px] sm:text-[14px] md:text-[15px] text-black mb-1 sm:mb-2 line-clamp-2"
                    [title]="p.name">
                    {{ p.name }}
                </p>

                <!-- Äáº©y giÃ¡ xuá»‘ng Ä‘Ã¡y -->
                <div class="mt-auto">
                    <div class="flex items-center gap-1 sm:gap-2">

                        <p class="text-gray-400 line-through text-xs">
                            {{ p.price| number:'1.0-0':'vi' }}Ä‘
                        </p>

                        <span *ngIf="p.discount ||p.discountPercent" class="bg-red-50 text-red-500 text-[10px]
                       font-semibold px-2 py-[2px] rounded-full">
                            -{{ p.discount ||p.discountPercent}}%
                        </span>
                    </div>
                    <p class="text-red-500 font-bold text-sm mt-1">
                        {{ p.salePrice | number:'1.0-0':'vi' }}Ä‘
                    </p>
                </div>
            </div>
        </div>
        }
    </div>
</section>